function strpos(e,t,n){n=(e+"").indexOf(t,n||0);return-1!==n&&n}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var f=1;function addNewRow(e){var t=parseInt(document.getElementById("total_extra").value)+parseInt(f),n=document.getElementById(e).getElementsByTagName("tbody")[0],a=document.createElement("tr"),d=document.createElement("td"),l=document.createElement("td"),o=document.createElement("td"),r=document.createElement("td"),c="text";fieldname="extra_name[]";e=document.getElementById("jform_type").value;11!=e&&13!=e||(c="file",fieldname="extra_name_file[]"),d.innerHTML='<input id="extra_name'+t+'" type="'+c+'" name="'+fieldname+'" value="field_temp_opt_'+t+'" id="'+fieldname+'" class="form-control" />',l.innerHTML='<input type="text" name="extra_value[]" value="" id="extra_value'+t+'"  class="form-control" /><input type="hidden" name="value_id[]" id="value_id'+t+'" />',o.innerHTML="&nbsp;",r.innerHTML='<input class="btn btn-danger" value="Delete" onclick="deleteRow(this)" type="button" />',a.appendChild(d),a.appendChild(l),a.appendChild(o),a.appendChild(r),n.appendChild(a),f++}f=1;function addNewRowcustom(e){parseInt(document.getElementById("total_extra").value),parseInt(f);var t=document.getElementById("extra_table").getElementsByTagName("tbody")[0],n=document.createElement("tr"),a=document.createElement("td"),d=document.createElement("td"),l=document.createElement("td");fieldname=e.name+"_extra_name[]",a.innerHTML='<input type="text" name="'+fieldname+'" value="" id="'+fieldname+'">',d.innerHTML='<input type="hidden" name="value_id[]" id="value_id[]">  <input value="Delete" onclick="deleteRow(this)" class="button" type="button" />',l.innerHTML="&nbsp;",n.appendChild(a),n.appendChild(d),n.appendChild(l),t.appendChild(n),f++}function create_table_data(e,t,n){name=e;parseInt(document.getElementById("total_extra").value),parseInt(f);var a=document.getElementById("container_table").getElementsByTagName("tbody")[0],d=document.createElement("tr"),l=document.createElement("td"),o=document.createElement("td"),r=document.createElement("td"),c=document.createElement("td"),e=0;document.getElementById("porder1").checked&&(e=1),l.innerHTML=name,o.innerHTML='<input size="5" type="text" name="quantity[]" value="1" onchange="changeM3('+n+',this.value)" id="quantity[]"><input type="hidden" name="container_product[]" value="'+n+'" id="container_product[]"><input type="hidden" value="'+e+'" name="container_porder[]" >',r.innerHTML='<div align="center"><input size="5" type="text" name="volume[]" id="volume'+n+'" value="'+t+'" readonly="readonly" /></div>',c.innerHTML='<input value="X" onclick="javascript:deleteRow_container(this);" class="button" type="button" />',d.appendChild(l),d.appendChild(o),d.appendChild(r),d.appendChild(c),a.appendChild(d),f++}function changeM3(e,t,n){document.getElementById("volume"+e).value=t*n}function create_table_accessory(e,t,n){name=e;var a=parseInt(document.getElementById("total_accessory").value)+parseInt(f),d=document.getElementById("accessory_table").getElementsByTagName("tbody")[0],l=document.createElement("tr"),o=document.createElement("td"),r=document.createElement("td"),c=document.createElement("td"),i=document.createElement("td"),p=document.createElement("td"),e=document.createElement("td");o.innerHTML=name+'<input type="hidden" class="childProductAccessory" value="'+t+'" name="product_accessory['+a+'][child_product_id]"><input type="hidden" value="0" name="product_accessory['+a+'][accessory_id]">',r.innerHTML=n,c.innerHTML='<input size="1" maxlength="1" onchange="javascript:oprand_check(this);" class="text_area input-small text-center" type="text" name="product_accessory['+a+'][oprand]" value="+" >',i.innerHTML='<input size="5" type="text" name="product_accessory['+a+'][accessory_price]" class="text_area input-small text-center" value="0">',p.innerHTML='<input type="text" name="product_accessory['+a+'][ordering]" size="5" value="" class="text_area input-small text-center" style="text-align: center" />',e.innerHTML='<input value="'+Joomla.JText._("COM_REDSHOP_DELETE")+'" onclick="javascript:deleteRow_accessory(this,0,0,0);" class="button btn btn-danger" type="button" />',l.appendChild(o),l.appendChild(r),l.appendChild(c),l.appendChild(i),l.appendChild(p),l.appendChild(e),d.appendChild(l),f++}function deleteRow(e){window.confirm("Are you sure you want to delete field value?")&&(e=e.parentNode.parentNode.rowIndex,2==document.querySelectorAll("#extra_table input[name*='extra_value']").length?(document.getElementById("extra_table").deleteRow(e),document.querySelectorAll("#extra_table input.button")[0].style.display="none"):document.getElementById("extra_table").deleteRow(e))}function deleteRow_container(e){e=e.parentNode.parentNode.rowIndex;document.getElementById("container_table").deleteRow(e)}function deleteRow_accessory(e,t,n,a){window.confirm("Are you sure you want to delete?")&&(e=e.parentNode.parentNode.rowIndex,document.getElementById("accessory_table").deleteRow(e),0!=t&&delete_accessory(t,n,a))}function addNewRowOfProp(e){var t=document.getElementById(e).getElementsByTagName("tbody")[0],n=document.createElement("tr"),a=document.createElement("td"),e=document.createElement("td");a.innerHTML="",e.innerHTML='<input type="file" name="property_sub_img[]" value="" id="property_sub_img[]" ><input value="Delete" onclick="deleteRowOfProp(this)" class="button" type="button" />',n.appendChild(a),n.appendChild(e),t.appendChild(n)}function deleteRowOfProp(e){e=e.parentNode.parentNode.rowIndex;document.getElementById("admintable").deleteRow(e)}function delete_accessory(e,t,n){xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&xmlhttp.status};var a="index.php?option=com_redshop&view=product_detail&task=removeAccessory";a=(a=(a="index.php?option=com_redshop&view=product_detail&task=removeAccessory&accessory_id="+e)+"&category_id="+t)+"&child_product_id="+n,xmlhttp.open("GET",a,!0),xmlhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlhttp.send(null)}